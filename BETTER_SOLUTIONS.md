# æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ

## ğŸ¯ é—®é¢˜æ ¸å¿ƒ
ç›®æ ‡ç½‘ç«™å°ç¦äº†Railwayçš„IPï¼Œéœ€è¦ä¸€ä¸ª**ä¸åŒçš„IP**æˆ–**ä¸åŒçš„è®¿é—®æ–¹å¼**ã€‚

## ğŸŒŸ æœ€æ¨èçš„3ä¸ªæ–¹æ¡ˆï¼ˆä¼˜äºVPSï¼‰

### æ–¹æ¡ˆ1: Puppeteer/Playwrightï¼ˆæœ€æ¨èï¼‰â­

**æ ¸å¿ƒæ€è·¯**: å®Œå…¨æ¨¡æ‹ŸçœŸå®æµè§ˆå™¨ï¼Œå¯èƒ½ç»•è¿‡IPæ£€æµ‹

#### ä¸ºä»€ä¹ˆæ›´å¥½ï¼Ÿ
- âœ… **å®Œå…¨å…è´¹** - åœ¨Railwayä¸Šè¿è¡Œï¼Œæ— éœ€é¢å¤–è´¹ç”¨
- âœ… **éš¾ä»¥æ£€æµ‹** - ä½¿ç”¨çœŸå®çš„Chrome/Chromiumå¼•æ“
- âœ… **å¯æ‰§è¡ŒJS** - å¯ä»¥ç­‰å¾…åŠ¨æ€å†…å®¹åŠ è½½
- âœ… **ç»´æŠ¤æˆæœ¬ä½** - ä¸éœ€è¦å•ç‹¬çš„VPS

#### å®æ–½æ­¥éª¤ï¼š

1. **å®‰è£…ä¾èµ–**ï¼š
```json
// package.json æ·»åŠ 
{
  "dependencies": {
    "puppeteer": "^21.0.0"
  }
}
```

2. **ä¿®æ”¹çˆ¬è™«ä»£ç **ï¼š
```javascript
const puppeteer = require('puppeteer');

async fetchElectricityData() {
  const browser = await puppeteer.launch({
    headless: true,
    args: [
      '--no-sandbox',
      '--disable-setuid-sandbox',
      '--disable-blink-features=AutomationControlled'
    ]
  });
  
  const page = await browser.newPage();
  
  // è®¾ç½®çœŸå®çš„User-Agent
  await page.setUserAgent('Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1');
  
  await page.goto('https://www.wap.cnyiot.com/nat/pay.aspx?mid=18100071580', {
    waitUntil: 'networkidle2',
    timeout: 30000
  });
  
  // ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆ
  await page.waitForSelector('body');
  
  const html = await page.content();
  await browser.close();
  
  return html;
}
```

#### ä¼˜ç¼ºç‚¹
- âœ… å®Œå…¨æ¨¡æ‹Ÿæµè§ˆå™¨ï¼Œæ£€æµ‹éš¾åº¦æé«˜
- âœ… å…è´¹ä½¿ç”¨
- âŒ èµ„æºæ¶ˆè€—å¤§ï¼ˆRAMï¼‰
- âŒ Railwayå…è´¹tierå¯èƒ½ä¸å¤Ÿ

---

### æ–¹æ¡ˆ2: Render.comï¼ˆå®Œå…¨å…è´¹ï¼‰â­â­

**æ ¸å¿ƒæ€è·¯**: ä½¿ç”¨ä¸åŒçš„äº‘å¹³å°IP

#### ä¸ºä»€ä¹ˆæ›´å¥½ï¼Ÿ
- âœ… **æ°¸ä¹…å…è´¹** - Renderæä¾›æ°¸ä¹…å…è´¹tier
- âœ… **ä¸åŒIPæ± ** - Renderçš„IPå¯èƒ½æœªè¢«å°ç¦
- âœ… **é›¶æˆæœ¬** - ä¸éœ€è¦èŠ±é’±ä¹°VPS
- âœ… **è‡ªåŠ¨éƒ¨ç½²** - ç±»ä¼¼Railway

#### Renderå…è´¹tierç‰¹ç‚¹ï¼š
- 512MB RAM
- å…è´¹åœæœºå15åˆ†é’Ÿå”¤é†’
- åŒ…å«PostgreSQLæ•°æ®åº“

#### å®æ–½æ­¥éª¤ï¼š
1. æ³¨å†Œ Render.com
2. è¿æ¥GitHubä»“åº“
3. åˆ›å»ºWeb Service
4. è‡ªåŠ¨éƒ¨ç½²ï¼ˆç›´æ¥è¿è¡Œproxyï¼‰

---

### æ–¹æ¡ˆ3: Cloudflare Workersï¼ˆæœ€ä½³æ€§èƒ½ï¼‰â­â­â­

**æ ¸å¿ƒæ€è·¯**: ä½¿ç”¨Cloudflareçš„è¾¹ç¼˜ç½‘ç»œï¼ŒIPå¤šæ ·åŒ–

#### ä¸ºä»€ä¹ˆæœ€å¥½ï¼Ÿ
- âœ… **å®Œå…¨å…è´¹** - æ¯å¤©10ä¸‡æ¬¡è¯·æ±‚å…è´¹
- âœ… **å…¨çƒCDN** - ä½¿ç”¨ä¸åŒå›½å®¶çš„IP
- âœ… **è¶…å¿«å“åº”** - è¾¹ç¼˜è®¡ç®—ï¼Œå»¶è¿Ÿæä½
- âœ… **é›¶ç»´æŠ¤** - æ— æœåŠ¡å™¨æ¦‚å¿µ

#### ç¼ºç‚¹
- âš ï¸ éœ€è¦å­¦ä¹ Workersè¯­æ³•
- âš ï¸ å¯èƒ½éœ€è¦ä½¿ç”¨fetch API

#### å®æ–½æ­¥éª¤ï¼š
1. æ³¨å†ŒCloudflareè´¦å·
2. åˆ›å»ºWorker
3. éƒ¨ç½²ä»£ç†ä»£ç 

---

## ğŸ“Š æ–¹æ¡ˆå¯¹æ¯”è¡¨

| æ–¹æ¡ˆ | æˆæœ¬ | éš¾åº¦ | ç¨³å®šæ€§ | IPå¤šæ ·æ€§ | æ¨èåº¦ |
|------|------|------|--------|----------|--------|
| **Puppeteer** | å…è´¹ | â­â­ | â­â­â­â­ | â­â­â­ | â­â­â­â­â­ |
| **Render.com** | å…è´¹ | â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
| **Cloudflare Workers** | å…è´¹ | â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ |
| **VPS ($6/æœˆ)** | Â¥42/æœˆ | â­â­â­ | â­â­â­â­â­ | â­â­â­ | â­â­â­â­ |
| **ä»˜è´¹ä»£ç†** | $75+/æœˆ | â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­ |

---

## ğŸš€ æ¨èå®æ–½é¡ºåº

### ç¬¬1æ­¥ï¼šå°è¯•Puppeteerï¼ˆä»Šå¤©å°±å¯ä»¥ï¼‰
- å¦‚æœRailwayèµ„æºè¶³å¤Ÿ â†’ ç«‹å³å®æ–½
- å¦‚æœä¸å¤Ÿ â†’ å°è¯•Render.com

### ç¬¬2æ­¥ï¼šå¦‚æœPuppeteerå¤±è´¥ï¼Œç”¨Render.comï¼ˆä»Šå¤©å°±éƒ¨ç½²ï¼‰
- å®Œå…¨å…è´¹çš„æ›¿ä»£æ–¹æ¡ˆ
- IPæ± ä¸åŒï¼Œå¯èƒ½ä¸è¢«å°ç¦

### ç¬¬3æ­¥ï¼šç»ˆææ–¹æ¡ˆ Cloudflare Workers
- å¦‚æœä¸Šé¢éƒ½å¤±è´¥
- å­¦ä¹ æˆæœ¬è¾ƒé«˜ä½†æ•ˆæœæœ€å¥½

---

## ğŸ’¡ æˆ‘çš„å»ºè®®

**æœ€ä½³æ–¹æ¡ˆ = Puppeteer + Render.com åŒé‡ä¿é™©**

1. **åœ¨Railwayä¸Šéƒ¨ç½²Puppeteerç‰ˆæœ¬**
   - Railwayæœ‰1GBå…è´¹RAMï¼Œè¶³å¤Ÿè¿è¡ŒPuppeteer
   
2. **åŒæ—¶åœ¨Render.coméƒ¨ç½²ä»£ç†ç‰ˆæœ¬**
   - ä½œä¸ºå¤‡ç”¨æ–¹æ¡ˆ
   - å®Œå…¨å…è´¹

3. **æˆæœ¬**: $0

---

## ğŸ“ éœ€è¦æˆ‘å¸®ä½ å®æ–½å“ªä¸ªï¼Ÿ

1. âš¡ **å¿«é€Ÿ**: å¸®ä½ å®ç°Puppeteerç‰ˆæœ¬ï¼ˆçº¦15åˆ†é’Ÿï¼‰
2. âš¡âš¡ **å¿«é€Ÿ**: å¸®ä½ éƒ¨ç½²åˆ°Render.comï¼ˆçº¦10åˆ†é’Ÿï¼‰
3. âš¡âš¡âš¡ **å¿«é€Ÿ**: å¸®ä½ åˆ›å»ºCloudflare Workerï¼ˆçº¦20åˆ†é’Ÿï¼‰

å‘Šè¯‰æˆ‘ä½ æƒ³å…ˆè¯•å“ªä¸ªï¼Œæˆ‘ç«‹å³å¸®ä½ å®ç°ï¼

